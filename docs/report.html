<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Report - FMBench</title>
        <link rel="stylesheet" href="style.css">
    </head>

<body>
    <div class="sidebar">
        <h2>FMBench</h2>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="slides.html">Slides</a></li>
                <li><a href="report.html" class="active">Report</a></li>
                <li><a href="data_appendix.html">Data Appendix</a></li>
                <li><a href="supplementary.html">Supplementary</a></li>
                <li><a href="tutorial.html">Tutorial</a></li>
                <li><a href="references.html">References</a></li>
            </ul>
        </nav>
    </div>

    <div class="main-content">
        <h1>Project Report</h1>

        <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#related-work">Related Work</a></li>
                <li><a href="#technical-approach">Technical Approach</a></li>
                <li><a href="#evaluation">Evaluation and Results</a></li>
                <li><a href="#discussions">Discussions and Conclusions</a></li>
                <li><a href="#references">References</a></li>
            </ul>
        </div>

        <hr>

        <section id="introduction" class="section">
            <h2>Introduction</h2>
            <p>[Content for Introduction goes here...]</p>
        </section>

        <section id="related-work" class="section">
            <h2>Related Work</h2>
            <p>[Content for Related Work goes here...]</p>
        </section>

        <section id="technical-approach" class="section">
            <h2>Technical Approach</h2>
            <p>Overview of the technical approach.</p>
            <ul>
                <li><a href="#hardware-profiler">Hardware Profiler</a></li>
                <li><a href="#scenarios">Scenarios</a></li>
                <li><a href="#models">Models</a></li>
            </ul>

            <h3 id="hardware-profiler">Hardware Profiler</h3>
            <p>The Hardware Profiler is a core component of FMBench that monitors system resources and energy
                consumption in real-time during benchmark execution. It provides granular insights into how models
                utilize the underlying hardware.</p>

            <h4>Architectural Design & Workflow</h4>
            <p>The profiling system uses a modular architecture managed by a <code>ProfilerManager</code> class. The
                workflow consists of four stages:</p>
            <ol>
                <li><strong>Initialization</strong>: The system automatically detects the underlying hardware platform
                    (Linux, macOS, Windows, Jetson, Raspberry Pi) and instantiates the appropriate profiler classes.
                </li>
                <li><strong>Threaded Monitoring</strong>: Each profiler runs in a dedicated background thread to ensure
                    minimal impact on the benchmarking process.</li>
                <li><strong>Sampling Loop</strong>: The profilers wake up at a configured interval (default: 1.0s),
                    collect metrics from system sensors, write raw data to CSV files, and update in-memory
                    statistics.</li>
                <li><strong>Aggregation</strong>: Upon completion, the manager stops the threads, flushes data to disk,
                    and aggregates statistics (min, max, average, totals) for the final report.</li>
            </ol>

            <h4>Outputs</h4>
            <p>For every benchmark run, the profiler generates:</p>
            <ul>
                <li><strong>CSV Time-Series Data</strong>: Detailed, timestamped logs of all metrics (e.g.,
                    <code>cpu_profiler.csv</code>, <code>mac_profiler.csv</code>).
                </li>
                <li><strong>Aggregated Metrics</strong>: Summary statistics included in the final
                    <code>summary.json</code> (e.g., <code>total_energy_joules</code>,
                    <code>average_gpu_utilization</code>).
                </li>
            </ul>

            <h4>Available Profilers</h4>
            <p>FMBench includes specialized profilers for different hardware architectures:</p>

            <div class="profiler-card">
                <h5>CPU Profiler (Universal)</h5>
                <p><strong>Function</strong>: Monitors CPU and system memory usage on all platforms (Windows, Linux,
                    macOS) using <code>psutil</code>.</p>
                <p><strong>Metrics</strong>: CPU Utilization %, System Memory (Used/%), CPU Temperature.</p>
                <p><strong>Power Monitoring</strong>: On Linux, it attempts to read power sensors via Intel RAPL
                    (Running Average Power Limit) or AMD Energy drivers if available.</p>
            </div>

            <div class="profiler-card">
                <h5>NVIDIA GPU Profiler</h5>
                <p><strong>Function</strong>: Targeted at NVIDIA GPUs (Data Center & Consumer) using the NVML library
                    (via <code>pynvml</code>).</p>
                <p><strong>Metrics</strong>: GPU Utilization %, Memory Usage, Power Draw (Watts), Temperature, Total
                    Energy (Joules).</p>
                <p><strong>Features</strong>: Supports multi-GPU setups by spawning a separate profiler instance for
                    each detected device.</p>
            </div>

            <div class="profiler-card">
                <h5>Mac Profiler (Apple Silicon)</h5>
                <p><strong>Function</strong>: leverages the native <code>powermetrics</code> utility on macOS to capture
                    high-fidelity energy data for M1/M2/M3 chips.</p>
                <p><strong>Metrics</strong>: CPU Power, GPU Power, Apple Neural Engine (ANE) Power, Combined Package
                    Power, GPU Frequency & Utilization.</p>
                <p><strong>Features</strong>: Calculates accurate energy consumption by integrating power measures over
                    time.</p>
            </div>

            <div class="profiler-card">
                <h5>Jetson Profiler</h5>
                <p><strong>Function</strong>: Designed for NVIDIA Jetson devices (Orin, Xavier, Nano) using the
                    <code>jetson-stats</code> (jtop) library.
                </p>
                <p><strong>Metrics</strong>: System Power (POM_5V_IN/VDD_GPU_SOC), GPU/CPU Frequencies, Thermal data,
                    and hardware-specific rail power.</p>
            </div>

            <div class="profiler-card">
                <h5>Raspberry Pi Profiler</h5>
                <p><strong>Function</strong>: Optimized for Raspberry Pi devices.</p>
                <p><strong>Metrics</strong>: CPU/RAM usage and Core Temperature.</p>
                <p><strong>Power Monitoring</strong>: On Raspberry Pi 5, it connects to the PMIC to read real-time
                    voltage and current for accurate power measurement.</p>
            </div>

            <h3 id="scenarios">Scenarios</h3>
            <p>[Details about Scenarios...]</p>
            <p>For a comprehensive list of datasets used across all scenarios, see the <a
                    href="supplementary.html#datasets-used">Datasets Used</a> section in the Supplementary Materials.
            </p>

            <h3 id="models">Models</h3>
            <p>[Details about Models...]</p>
        </section>

        <section id="evaluation" class="section">
            <h2>Evaluation and Results</h2>
            <p>Overview of evaluation and results.</p>
            <p>For detailed data and raw results, please see the <a href="data_appendix.html">Data Appendix</a>.</p>
        </section>

        <section id="discussions" class="section">
            <h2>Discussions and Conclusions</h2>
            <p>[Content for Discussions and Conclusions goes here...]</p>
        </section>

        <section id="references" class="section">
            <h2>References</h2>
            <p>For a complete list of references including datasets and libraries used in this project, please see the
                <a href="references.html">References</a> page.
            </p>
        </section>

        <footer>
            <p>&copy; 2025 FMBench Project</p>
        </footer>
    </div>
</body>

</html>